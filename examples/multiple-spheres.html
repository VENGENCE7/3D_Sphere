<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiple WavesSpheres</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: #000;
            font-family: Arial, sans-serif;
        }
        
        .sphere-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            height: 100vh;
            gap: 2px;
        }
        
        .sphere-container {
            background: #111;
            border: 1px solid #333;
            position: relative;
        }
        
        .sphere-label {
            position: absolute;
            top: 10px;
            left: 10px;
            color: white;
            background: rgba(0, 0, 0, 0.7);
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 100;
        }
        
        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.9);
            padding: 20px;
            border-radius: 10px;
            color: white;
            z-index: 1000;
            max-width: 200px;
        }
        
        .controls button {
            background: #8000FF;
            border: none;
            color: white;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            margin: 2px;
            width: 100%;
        }
        
        .controls button:hover {
            background: #9900CC;
        }
    </style>
</head>
<body>
    <div class="sphere-grid">
        <div class="sphere-container">
            <div class="sphere-label">Default Configuration</div>
            <div id="sphere1"></div>
        </div>
        
        <div class="sphere-container">
            <div class="sphere-label">Fast Waves</div>
            <div id="sphere2"></div>
        </div>
        
        <div class="sphere-container">
            <div class="sphere-label">Large Size</div>
            <div id="sphere3"></div>
        </div>
        
        <div class="sphere-container">
            <div class="sphere-label">No Auto-Rotate</div>
            <div id="sphere4"></div>
        </div>
    </div>
    
    <div class="controls">
        <h3>Global Controls</h3>
        <button onclick="startAll()">Start All</button>
        <button onclick="stopAll()">Stop All</button>
        <button onclick="zoomInAll()">Zoom In All</button>
        <button onclick="zoomOutAll()">Zoom Out All</button>
        <button onclick="resetAll()">Reset All</button>
    </div>

    <!-- Three.js -->
    <script src="https://unpkg.com/three@latest/build/three.min.js"></script>
    
    <!-- WavesSphere Bundle -->
    <script src="../src/assets/waves-sphere-bundle.js"></script>
    
    <script>
        let spheres = [];
        
        function init() {
            try {
                // Sphere 1: Default configuration
                const sphere1 = new WavesSphere(document.getElementById('sphere1'), {
                    cameraDistance: 4.0,
                    autoRotate: true,
                    autoRotateSpeed: 0.001
                });
                
                // Sphere 2: Fast waves
                const sphere2 = new WavesSphere(document.getElementById('sphere2'), {
                    cameraDistance: 4.0,
                    autoRotate: true,
                    autoRotateSpeed: 0.002,
                    waveSpeed: 0.5, // Faster waves
                    waveCycle: 2.0  // Shorter cycle
                });
                
                // Sphere 3: Large size
                const sphere3 = new WavesSphere(document.getElementById('sphere3'), {
                    radius: 2.0,    // Larger sphere
                    cameraDistance: 5.0,
                    autoRotate: true,
                    autoRotateSpeed: 0.0005, // Slower rotation
                    pointBaseSize: 8.0       // Larger points
                });
                
                // Sphere 4: No auto-rotate
                const sphere4 = new WavesSphere(document.getElementById('sphere4'), {
                    cameraDistance: 4.0,
                    autoRotate: false,  // Manual control only
                    waveAmplitude: 1.2, // Taller waves
                    waveMaxAmplitude: 3.0
                });
                
                spheres = [sphere1, sphere2, sphere3, sphere4];
                
                // Start all spheres
                spheres.forEach(sphere => sphere.start());
                
                console.log('All spheres initialized successfully!');
                
            } catch (error) {
                console.error('Failed to initialize spheres:', error);
            }
        }
        
        function startAll() {
            spheres.forEach(sphere => sphere.start());
        }
        
        function stopAll() {
            spheres.forEach(sphere => sphere.stop());
        }
        
        function zoomInAll() {
            spheres.forEach(sphere => sphere.zoomIn());
        }
        
        function zoomOutAll() {
            spheres.forEach(sphere => sphere.zoomOut());
        }
        
        function resetAll() {
            spheres.forEach(sphere => sphere.resetZoom());
        }
        
        // Handle window resize
        window.addEventListener('resize', () => {
            spheres.forEach(sphere => {
                if (sphere && sphere.onWindowResize) {
                    sphere.onWindowResize();
                }
            });
        });
        
        // Cleanup on page unload
        window.addEventListener('beforeunload', () => {
            spheres.forEach(sphere => {
                if (sphere) {
                    sphere.destroy();
                }
            });
        });
        
        // Initialize when page loads
        window.addEventListener('load', init);
    </script>
</body>
</html>